# 2625. Flatten Deeply Nested Array

**–£—Ä–æ–≤–µ–Ω—å:** Medium  
**–¢–µ–º—ã:** #–†–µ–∫—É—Ä—Å–∏—è #–ú–∞—Å—Å–∏–≤—ã #–û–±—Ö–æ–¥–î–µ—Ä–µ–≤–∞  
**–°—Å—ã–ª–∫–∞:** [LeetCode Problem](https://leetcode.com/problems/flatten-deeply-nested-array/)

## üìú –£—Å–ª–æ–≤–∏–µ
–î–∞–Ω –º–Ω–æ–≥–æ–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ `arr` –∏ –≥–ª—É–±–∏–Ω–∞ `n`. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–µ—Ä–Ω—É—Ç—å "—É–ø–ª–æ—â—ë–Ω–Ω—É—é" –≤–µ—Ä—Å–∏—é –º–∞—Å—Å–∏–≤–∞.

–ú–Ω–æ–≥–æ–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ ‚Äî —ç—Ç–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ –∏–ª–∏ –¥—Ä—É–≥–∏–µ –º–Ω–æ–≥–æ–º–µ—Ä–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã.

–£–ø–ª–æ—â—ë–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ ‚Äî —ç—Ç–æ –≤–µ—Ä—Å–∏—è –º–∞—Å—Å–∏–≤–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–ª–∏ –≤—Å–µ –ø–æ–¥–º–∞—Å—Å–∏–≤—ã —É–¥–∞–ª–µ–Ω—ã –∏ –∑–∞–º–µ–Ω–µ–Ω—ã —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —ç—Ç–∏—Ö –ø–æ–¥–º–∞—Å—Å–∏–≤–æ–≤. –û–ø–µ—Ä–∞—Ü–∏—è —É–ø–ª–æ—â–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –≥–ª—É–±–∏–Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–Ω—å—à–µ `n`. –ì–ª—É–±–∏–Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –ø–µ—Ä–≤–æ–º –º–∞—Å—Å–∏–≤–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è —Ä–∞–≤–Ω–æ–π 0.

–ó–∞–ø—Ä–µ—â–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ `Array.flat()`.

## –ü—Ä–∏–º–µ—Ä—ã

#### **–ü—Ä–∏–º–µ—Ä 1:**  
> **–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**  
> ```javascript
> arr = [1, 2, 3, [4, 5, 6], [7, 8, [9, 10, 11], 12], [13, 14, 15]]
> n = 0
> ```  
> **–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**  
> ```javascript
> [1, 2, 3, [4, 5, 6], [7, 8, [9, 10, 11], 12], [13, 14, 15]]
> ```  
> **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –≥–ª—É–±–∏–Ω–∞ n=0 –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤, —Ç–∞–∫ –∫–∞–∫ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ –ø–æ–¥–º–∞—Å—Å–∏–≤–æ–≤ (0) –Ω–µ –º–µ–Ω—å—à–µ n=0.

#### **–ü—Ä–∏–º–µ—Ä 2:**  
> **–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**  
> ```javascript
> arr = [1, 2, 3, [4, 5, 6], [7, 8, [9, 10, 11], 12], [13, 14, 15]]
> n = 1
> ```  
> **–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**  
> ```javascript
> [1, 2, 3, 4, 5, 6, 7, 8, [9, 10, 11], 12, 13, 14, 15]
> ```  
> **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –ø–æ–¥–º–∞—Å—Å–∏–≤—ã –≥–ª—É–±–∏–Ω—ã 0 —É–ø–ª–æ—â–∞—é—Ç—Å—è, –Ω–æ [9, 10, 11] –æ—Å—Ç–∞—ë—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –µ–≥–æ –≥–ª—É–±–∏–Ω–∞ 1.

#### **–ü—Ä–∏–º–µ—Ä 3:**  
> **–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**  
> ```javascript
> arr = [[1, 2, 3], [4, 5, 6], [7, 8, [9, 10, 11], 12], [13, 14, 15]]
> n = 2
> ```  
> **–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**  
> ```javascript
> [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
> ```  
> **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –≤—Å–µ –ø–æ–¥–º–∞—Å—Å–∏–≤—ã –∏–º–µ—é—Ç –≥–ª—É–±–∏–Ω—É ‚â§ 1, –ø–æ—ç—Ç–æ–º—É –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–ø–ª–æ—â–∞—é—Ç—Å—è.

## üéØ –†–µ—à–µ–Ω–∏—è

### –†–µ—à–µ–Ω–∏–µ 1: –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ (–±–µ–∑ —Ä–µ–∫—É—Ä—Å–∏–∏)
```javascript
var flat = function (arr, n) {
  let current = arr;
  for (let depth = 0; depth < n; depth++) {
    let flattened = [];
    let hasArrays = false;
    
    for (const item of current) {
      if (Array.isArray(item)) {
        flattened.push(...item);
        hasArrays = true;
      } else {
        flattened.push(item);
      }
    }
    current = flattened;
    if (!hasArrays) break;
  }
  return current;
};
```

### –†–µ—à–µ–Ω–∏–µ 2: —Å —Ä–µ–∫—É—Ä—Å–∏–µ–π
```javascript
var flat = function (arr, n) {
  if (n === 0) return arr;
  
  let result = [];
  for (const item of arr) {
    if (Array.isArray(item)) {
      result.push(...flat(item, n - 1));
    } else {
      result.push(item);
    }
  }
  return result;
};
```

### –†–µ—à–µ–Ω–∏–µ 3: –∏—Å–ø–æ–ª—å–∑—É—è —Å—Ç—ç–∫
```javascript
var flat = function(arr, depth) {
  const stack = [...arr.map(item => [item, depth])];
  const result = [];
  
  while (stack.length > 0) {
    const [item, depth] = stack.pop();
    
    if (Array.isArray(item) && depth > 0) {
      stack.push(...item.map(subItem => [subItem, depth - 1]));
    } else {
      result.push(item);
    }
  }
  
  return result.reverse();
};
```