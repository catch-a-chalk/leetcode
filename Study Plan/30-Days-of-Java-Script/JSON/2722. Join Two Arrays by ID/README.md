# [Номер задачи]. Join Two Arrays by ID

**Уровень:** Medium  
**Темы:** #Массивы #Объекты #Слияние #Сортировка  
**Ссылка:** [LeetCode Problem](https://leetcode.com/problems/join-two-arrays-by-id/)

## 📜 Условие
Даны два массива `arr1` и `arr2`, вернуть новый массив `joinedArray`. Все объекты в каждых вхожих данных имеют уникальный `id`, содержащий число.

`joinedArray` представляет собой объединенные массивы `arr1` и `arr2` по ключам `id` согласно следующим правилам:

- Результирующий массив должен содержать уникальные значения `id`
- Массив должен быть отсортирован по `id` в порядке возрастания
- Если `id` существует только в одном массиве, объект включается без изменений
- Если `id` присутствует в обоих массивах, объекты сливаются:
  - Уникальные свойства сохраняются
  - При совпадении свойств значение из `arr2` перезаписывает значение из `arr1`

## Примеры

#### **Пример 1:**  
> **Входные данные:**  
> ```javascript
> arr1 = [{"id": 1, "x": 1}, {"id": 2, "x": 9}], 
> arr2 = [{"id": 3, "x": 5}]
> ```  
> **Выходные данные:**  
> ```javascript
> [
>   {"id": 1, "x": 1},
>   {"id": 2, "x": 9},
>   {"id": 3, "x": 5}
> ]
> ```  
> **Объяснение:** здесь нет дубликатов id, так что массивы `arr1` и `arr2` просто объединяются.

#### **Пример 2:**  
> **Входные данные:**  
> ```javascript
> arr1 = [{"id": 1, "x": 2, "y": 3}, {"id": 2, "x": 3, "y": 6}], 
> arr2 = [{"id": 2, "x": 10, "y": 20}, {"id": 3, "x": 0, "y": 0}]
> ```  
> **Выходные данные:**  
> ```javascript
> [
>   {"id": 1, "x": 2, "y": 3},
>   {"id": 2, "x": 10, "y": 20},
>   {"id": 3, "x": 0, "y": 0}
> ]
> ```  
> **Объяснение:** объекты с id=2 сливаются с приоритетом значений из arr2.

#### **Пример 3:**  
> **Входные данные:**  
> ```javascript
> arr1 = [{"id": 1, "b": {"b": 94}, "v": [4, 3], "y": 48}]
> arr2 = [{"id": 1, "b": {"c": 84}, "v": [1, 3]}]
> ```  
> **Выходные данные:**  
> ```javascript
> [
>   {"id": 1, "b": {"c": 84}, "v": [1, 3], "y": 48}
> ]
> ```  
> **Объяснение:** глубокое слияние объектов с приоритетом arr2 для совпадающих свойств.

## 🎯 Решение
```javascript
var join = function(arr1, arr2) {
  const map = {};

  for (const obj of arr1) {
    map[obj.id] = {...obj};
  };

  for (const obj of arr2) {
    if (map[obj.id]) {
      map[obj.id] = { ...map[obj.id], ...obj};
    } else {
      map[obj.id] = {...obj};
    }
  };

  const joinedArray = Object.values(map).sort((a, b) => a.id - b.id);
  return joinedArray;
};
```